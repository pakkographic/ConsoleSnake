const fs = require("fs");
const { astToString } = require("openapi-typescript");
const openapiTS = require('openapi-typescript').default;

(async () => {
    const schema = await openapiTS(
        "https://www.guilded.gg/api/v1/open-api-schema.json",
        {
            enum: true,
            defaultNonNullable: true
        }
        );
    let fileContent = astToString(schema);
    fileContent = fileContent.replace(/\s*\|\s*unknown/g, "");
    fs.writeFileSync("./typings/schemas/v1.ts", fileContent);
})();
